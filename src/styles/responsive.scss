// üì± –°–∏—Å—Ç–µ–º–∞ responsive –¥–∏–∑–∞–π–Ω—É –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
// –ë—Ä–µ–π–∫–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ –µ–∫—Ä–∞–Ω—ñ–≤

@use "sass:map";

// === –ë–†–ï–ô–ö–ü–û–Ü–ù–¢–ò ===
$breakpoints: (
  'xs': 320px,    // –ú–∞–ª–µ–Ω—å–∫—ñ —Ç–µ–ª–µ—Ñ–æ–Ω–∏ (iPhone SE, —Å—Ç–∞—Ä—ñ Android)
  'sm': 375px,    // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ç–µ–ª–µ—Ñ–æ–Ω–∏ (iPhone 12 mini, Pixel)
  'md': 414px,    // –í–µ–ª–∏–∫—ñ —Ç–µ–ª–µ—Ñ–æ–Ω–∏ (iPhone 12 Pro Max, Galaxy S)
  'lg': 768px,    // –ü–ª–∞–Ω—à–µ—Ç–∏ (iPad mini)
  'xl': 1024px,   // –í–µ–ª–∏–∫—ñ –ø–ª–∞–Ω—à–µ—Ç–∏ (iPad)
  'xxl': 1440px   // –î–µ—Å–∫—Ç–æ–ø
);

// === –ú–Ü–ö–°–ò–ù–ò ===
@mixin mobile-xs {
  @media (max-width: #{map.get($breakpoints, 'xs') - 1px}) {
    @content;
  }
}

@mixin mobile-sm {
  @media (min-width: #{map.get($breakpoints, 'xs')}) and (max-width: #{map.get($breakpoints, 'sm') - 1px}) {
    @content;
  }
}

@mixin mobile-md {
  @media (min-width: #{map.get($breakpoints, 'sm')}) and (max-width: #{map.get($breakpoints, 'md') - 1px}) {
    @content;
  }
}

@mixin mobile-lg {
  @media (min-width: #{map.get($breakpoints, 'md')}) and (max-width: #{map.get($breakpoints, 'lg') - 1px}) {
    @content;
  }
}

@mixin tablet {
  @media (min-width: #{map.get($breakpoints, 'lg')}) and (max-width: #{map.get($breakpoints, 'xl') - 1px}) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: #{map.get($breakpoints, 'xl')}) {
    @content;
  }
}

// –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω—ñ –º—ñ–∫—Å–∏–Ω–∏
@mixin mobile-only {
  @media (max-width: #{map.get($breakpoints, 'lg') - 1px}) {
    @content;
  }
}

@mixin tablet-up {
  @media (min-width: #{map.get($breakpoints, 'lg')}) {
    @content;
  }
}

@mixin mobile-landscape {
  @media (max-width: #{map.get($breakpoints, 'lg') - 1px}) and (orientation: landscape) {
    @content;
  }
}

@mixin mobile-portrait {
  @media (max-width: #{map.get($breakpoints, 'lg') - 1px}) and (orientation: portrait) {
    @content;
  }
}

// === –§–£–ù–ö–¶–Ü–á –î–õ–Ø –ê–î–ê–ü–¢–ò–í–ù–ò–• –†–û–ó–ú–Ü–†–Ü–í ===
@function fluid-size($min-size, $max-size, $min-vw: 320px, $max-vw: 1440px) {
  @return calc(#{$min-size} + #{$max-size - $min-size} * ((100vw - #{$min-vw}) / #{$max-vw - $min-vw}));
}

// === –ó–ú–Ü–ù–ù–Ü –î–õ–Ø –†–û–ó–ú–Ü–†–Ü–í ===
:root {
  // –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ —à—Ä–∏—Ñ—Ç–∏
  --font-xs: clamp(10px, 2.5vw, 12px);
  --font-sm: clamp(12px, 3vw, 14px);
  --font-md: clamp(14px, 3.5vw, 16px);
  --font-lg: clamp(16px, 4vw, 18px);
  --font-xl: clamp(18px, 4.5vw, 20px);
  --font-2xl: clamp(20px, 5vw, 24px);
  --font-3xl: clamp(24px, 6vw, 28px);
  --font-4xl: clamp(28px, 7vw, 32px);

  // –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ –≤—ñ–¥—Å—Ç—É–ø–∏
  --spacing-xs: clamp(4px, 1vw, 6px);
  --spacing-sm: clamp(6px, 1.5vw, 8px);
  --spacing-md: clamp(8px, 2vw, 12px);
  --spacing-lg: clamp(12px, 3vw, 16px);
  --spacing-xl: clamp(16px, 4vw, 20px);
  --spacing-2xl: clamp(20px, 5vw, 24px);
  --spacing-3xl: clamp(24px, 6vw, 32px);
  --spacing-4xl: clamp(32px, 8vw, 40px);

  // –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ —Ä–∞–¥—ñ—É—Å–∏
  --radius-sm: clamp(4px, 1vw, 6px);
  --radius-md: clamp(6px, 1.5vw, 8px);
  --radius-lg: clamp(8px, 2vw, 12px);
  --radius-xl: clamp(12px, 3vw, 16px);

  // –í–∏—Å–æ—Ç–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
  --touch-target: clamp(44px, 12vw, 48px); // –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –¥–ª—è —Ç–æ—Ä–∫–∞–Ω–Ω—è
  --button-height: clamp(40px, 10vw, 44px);
  --input-height: clamp(40px, 10vw, 44px);
  --nav-height: clamp(50px, 12vw, 60px);

  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–∏—Ä–∏–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç—É
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

// === –£–ù–Ü–í–ï–†–°–ê–õ–¨–ù–Ü –ö–õ–ê–°–ò ===
.responsive-container {
  width: 100%;
  max-width: var(--container-lg);
  margin: 0 auto;
  padding: 0 var(--spacing-md);

  @include mobile-only {
    padding: 0 var(--spacing-sm);
  }
}

.mobile-stack {
  @include mobile-only {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }
}

.mobile-hide {
  @include mobile-only {
    display: none !important;
  }
}

.mobile-show {
  display: none;
  
  @include mobile-only {
    display: block;
  }
}

.tablet-hide {
  @include tablet {
    display: none !important;
  }
}

.desktop-hide {
  @include desktop {
    display: none !important;
  }
}

// === –¢–ò–ü–û–ì–†–ê–§–Ü–Ø ===
.responsive-text {
  &--xs { font-size: var(--font-xs); line-height: 1.4; }
  &--sm { font-size: var(--font-sm); line-height: 1.4; }
  &--md { font-size: var(--font-md); line-height: 1.5; }
  &--lg { font-size: var(--font-lg); line-height: 1.5; }
  &--xl { font-size: var(--font-xl); line-height: 1.6; }
  &--2xl { font-size: var(--font-2xl); line-height: 1.6; }
  &--3xl { font-size: var(--font-3xl); line-height: 1.3; }
  &--4xl { font-size: var(--font-4xl); line-height: 1.2; }
}

// === –°–Ü–¢–ö–ò ===
.responsive-grid {
  display: grid;
  gap: var(--spacing-md);
  
  &--1 { grid-template-columns: 1fr; }
  
  &--2 {
    grid-template-columns: repeat(2, 1fr);
    
    @include mobile-sm {
      grid-template-columns: 1fr;
    }
  }
  
  &--3 {
    grid-template-columns: repeat(3, 1fr);
    
    @include mobile-md {
      grid-template-columns: repeat(2, 1fr);
    }
    
    @include mobile-sm {
      grid-template-columns: 1fr;
    }
  }
  
  &--4 {
    grid-template-columns: repeat(4, 1fr);
    
    @include mobile-lg {
      grid-template-columns: repeat(2, 1fr);
    }
    
    @include mobile-md {
      grid-template-columns: 1fr;
    }
  }
}

// === –§–õ–ï–ö–° –£–¢–ò–õ–Ü–¢–ò ===
.flex-mobile-column {
  @include mobile-only {
    flex-direction: column !important;
  }
}

.flex-mobile-wrap {
  @include mobile-only {
    flex-wrap: wrap !important;
  }
}

// === –°–ü–ï–¶–ò–§–Ü–ß–ù–Ü –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–á –î–õ–Ø –†–Ü–ó–ù–ò–• –¢–ï–õ–ï–§–û–ù–Ü–í ===

// iPhone SE —Ç–∞ –º–∞–ª–µ–Ω—å–∫—ñ –µ–∫—Ä–∞–Ω–∏
@include mobile-xs {
  .mobile-compact {
    padding: var(--spacing-xs) !important;
    font-size: var(--font-xs) !important;
  }
  
  .button-compact {
    height: 36px !important;
    padding: 0 var(--spacing-sm) !important;
    font-size: var(--font-xs) !important;
  }
}

// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ç–µ–ª–µ—Ñ–æ–Ω–∏
@include mobile-sm {
  .mobile-standard {
    padding: var(--spacing-sm);
    font-size: var(--font-sm);
  }
}

// –í–µ–ª–∏–∫—ñ —Ç–µ–ª–µ—Ñ–æ–Ω–∏
@include mobile-md {
  .mobile-large {
    padding: var(--spacing-md);
    font-size: var(--font-md);
  }
}

// –ê–ª—å–±–æ–º–Ω–∞ –æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤
@include mobile-landscape {
  .landscape-optimize {
    padding: var(--spacing-sm) var(--spacing-lg);
    
    .nav-mobile {
      height: 40px;
    }
    
    .content-mobile {
      padding-top: var(--spacing-sm);
    }
  }
}

// –ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞ –æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è
@include mobile-portrait {
  .portrait-optimize {
    .modal-mobile {
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .card-mobile {
      margin-bottom: var(--spacing-md);
    }
  }
}

// === –ê–ù–Ü–ú–ê–¶–Ü–á –î–õ–Ø –ú–û–ë–Ü–õ–¨–ù–ò–• ===
@media (prefers-reduced-motion: no-preference) {
  .smooth-mobile {
    transition: all 0.2s ease;
    
    @include mobile-only {
      transition: all 0.15s ease; // –®–≤–∏–¥—à—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö
    }
  }
}

// –í–∏–º–∫–Ω–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ–π –¥–ª—è —Å–ª–∞–±–∫–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// === –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø –î–õ–Ø TOUCH ===
.touch-optimize {
  // –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –æ–±–ª–∞—Å—Ç—ñ —Ç–æ—Ä–∫–∞–Ω–Ω—è
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    pointer-events: none;
  }
  
  @include mobile-only {
    min-height: var(--touch-target);
    min-width: var(--touch-target);
  }
}

// === –ë–ï–ó–ü–ï–ß–ù–Ü –ó–û–ù–ò (iPhone X+) ===
.safe-area {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

// === –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ø –ü–†–û–î–£–ö–¢–ò–í–ù–û–°–¢–Ü ===
.mobile-gpu-accelerate {
  @include mobile-only {
    transform: translateZ(0);
    will-change: transform;
  }
}

.mobile-scroll-smooth {
  @include mobile-only {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
} 